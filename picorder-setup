#!/bin/bash
clear

TERM=ansi 
i2c_enl=$(sudo raspi-config nonint do_i2c 1)
i2c_dis=$(sudo raspi-config nonint do_i2c 0)

{
theme="dark:0" # Theme setting dark comment to enable system colors

if [ $theme = "dark:0" ]; then
  export NEWT_COLORS='
    root=white,black
    window=white,black
    textbox=white,black
    title=white,black
    listbox=white,black
    sellistbox=black,yellow
    actsellistbox=black,yellow
    border=blue,black
    actbutton=black,green
    button=white,black
    '
fi
}
mkdir "$HOME/.local/"
mkdir "$HOME/.local/bin/"
mkdir "$HOME/.local/lib/"
mkdir "$HOME/.local/include/"
sudo apt update
sudo apt install -y git python3-pip python3-smbus 
sudo apt install -y libatlas-base-dev libopenjp2-7-dev libsdl2-dev libtiff5 libsdl-ttf2.0-dev  libsdl-gfx1.2-5 libsdl-image1.2 libsdl-kitchensink1 libsdl-mixer1.2 libsdl-sound1.2 libsdl-ttf2.0-0 libsdl1.2debian libsdl2-2.0-0 libsdl2-gfx-1.0-0 libsdl2-image-2.0-0 libsdl2-mixer-2.0-0 libsdl2-ttf-2.0-0 
cd "$HOME/.local/include/" && git clone https://github.com/Tearran/picorder-config.git
cd "$HOME/.local/include/" && git clone https://github.com/tearran/picorderOS.git
cd "$HOME/.local/include/picorderOS/" && python3 -m pip install -r requirements.txt
cd "$HOME/.local/bin/" && wget https://raw.githubusercontent.com/Tearran/picorder-config/master/piCorderOS
chmod 755 "$HOME/.local/bin/piCorderOS"
chmod +x "$HOME/.local/bin/piCorderOS"
cp "$HOME/.local/include/picorder-config/picorder-config" "$HOME/.local/bin/picorder-config"
chmod 755 "$HOME/.local/bin/picorder-config"
chmod +x "$HOME/.local/bin/picorder-config"
cp "$HOME/.local/include/picorder-config/picorderOS" "$HOME/.local/bin/picorderOS"
chmod 755 "$HOME/.local/bin/picorderOS"
chmod +x "$HOME/.local/bin/picorderOS"
echo "System install complete...... "
TERM=xterm
exit
